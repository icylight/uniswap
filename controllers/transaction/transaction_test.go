package transaction

import (
	"log"
	"testing"

	"icylight/uniswap/config"
	"icylight/uniswap/service"
)

func TestMain(m *testing.M) {
	err := config.Load("../../config.yml")
	if err != nil {
		log.Fatal(err)
	}
	err = service.Init()
	if err != nil {
		log.Fatal(err)
	}

	m.Run()
}

func Test_getPairsBySwapExactTokensForTokens(t *testing.T) {
	getPairsBySwapExactTokensForTokens(`0x38ed17390000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000034caa79b220000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000ca8bc448d7fbbec5ba0633436217f76cba93779400000000000000000000000000000000000000000000000000000000677954a10000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000004448726b23483927c492f09c1dbfdffd3967b452`)
}

func Test_getPairBySwapExactTokensForETH(t *testing.T) {
	getPairBySwapExactTokensForETH(`0x18cbafe5000000000000000000000000000000000000000000000062220a4c2f42ebd8af0000000000000000000000000000000000000000000000000075a27829c0cb3800000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000fd9f0b6cb0b218a56b6d5e37b64507d5a2489cf200000000000000000000000000000000000000000000000000000000677955bf0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f477ac7719e2e659001455cdda0cc8f3ad10b604000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2`)
}
